@startuml

actor "Бухгалтер" as accounter
boundary "Домашнее окно\nбухгалтера" as w_home
boundary "Окно добавления\nпользователя" as w_adduser
database "База данных" as db 

accounter -> w_home : Нажать кнопку\nДобавить пользователя
w_home -> w_adduser ** : Отобразить
alt#Gold #Pink Отказ от добавления пользователя
    accounter -> w_adduser : Нажать кнопку Отмена
else #LightBlue Добавление пользователя
    accounter -> w_adduser : Ввести данные пользователя
    accounter -> w_adduser : Нажать кнопку Подтвердить
    w_adduser -> w_adduser : Проверить\nкорректность\nданных
    alt#Gold #Pink Данные некорректны
        accounter <-- w_adduser : Сообщить об ошибке
    else #LightBlue Данные корректны
        w_adduser -> db : Проверить логин
        w_adduser <-- db : Результат
        alt#Gold #Pink Логин занят
            accounter <-- w_adduser : Сообщить об ошибке
        else #LightBlue Логин свободен
            w_adduser -> db : Добавить пользователя
            w_adduser <-- db : Пользователь добавлен
        end
    end
end
w_adduser -> w_adduser !! : Завершить

@enduml
