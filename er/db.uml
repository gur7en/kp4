@startuml

skinparam linetype ortho

entity "Users" as users {
    *id : ID <<generated>>
	--
    fired : bool
    role : string
    login : string
    hash : string
    surname : string
    name : string
    patronim : string <<NULL>>
    phone : string
    details : string <<NULL>>
}

entity "Drivers expirience" as drv_exp {
    *driver : ID <<ref Users(id)>>
    --
    experience : int
}

entity "Routes" as routes {
    *id : ID <<generated>>
    --
    name : string
    active : bool
    start_point : string
    end_point : string
    len : int
    details : string <<NULL>>
    client_price : money
    driver_fee_base : money
}

entity "Transportations" as transps {
    *id : ID <<generated>>
    --
    status : int
    route : ID <<ref Routes(id)>>
    start_time : timestamp
    end_time : timestamp
}

entity "Drivers for transportation" as drv_transp {
    *transp : ID <<ref Transportations(id)>>
    --
    driver : ID <<ref Users(id)>>
    driver_number : int
    driver_bonus : money
}

users ||-right-o| drv_exp
transps ||-right-|{ drv_transp
transps ||-down-o{ routes
drv_transp }o-down-|| users

@enduml
